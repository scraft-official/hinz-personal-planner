<div class="plans-list">
  {% for plan in plans %}
  <div class="plan-item" data-plan-id="{{plan.id}}">
    <span class="plan-color-dot" style="background: {{plan.color}}"></span>
    <span class="plan-name">{{plan.name}}</span>
    <div class="plan-actions">
      <input type="color" class="plan-color-picker" value="{{plan.color}}" 
             hx-patch="/plans/{{plan.id}}" hx-include="this" name="color"
             hx-target="#plans-list" hx-swap="innerHTML" />
      <button type="button" class="plan-delete-btn" 
              hx-delete="/plans/{{plan.id}}" 
              hx-target="#plans-list" 
              hx-swap="innerHTML"
              hx-confirm="Delete plan '{{plan.name}}'? Entries will be unassigned."
              {% if plans|length <= 1 %}disabled title="Cannot delete the last plan"{% endif %}>ğŸ—‘ï¸</button>
    </div>
  </div>
  {% else %}
  <div class="plans-empty">No plans yet. Create one below!</div>
  {% endfor %}
</div>
